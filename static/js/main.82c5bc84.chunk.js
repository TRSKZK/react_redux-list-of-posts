(this["webpackJsonpreact-redux-list-of-posts"]=this["webpackJsonpreact-redux-list-of-posts"]||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){},110:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(26),s=n.n(r),o=(n(98),n(11)),i=n(28),l=(n(104),n(17)),u=n(33),d=n(25),j=n.n(d),b=n(36),p=n(56),f=n(79),O=n(80),h="https://mate.academy/students-api/posts";function m(){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("".concat(t.status," - ").concat(t.statusText));case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status," - ").concat(n.statusText));case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w="load/posts",g="delete/post",k=function(e){return{type:w,posts:e}},C=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:(n=e.sent)&&(n.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})),t(k(n))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e){return e.posts},N={posts:[]},S=Object(f.composeWithDevTools)(Object(p.applyMiddleware)(O.a)),T=Object(p.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(u.a)(Object(u.a)({},e),{},{posts:Object(l.a)(t.posts)});case g:return Object(u.a)(Object(u.a)({},e),{},{posts:Object(l.a)(e.posts.filter((function(e){return e.id!==t.postId})))});default:return e}}),S),P=T,D=(n(106),n(163)),I=n(166),L=n(165),A=n(161),F=n(164),q=n(169),E=n(156),z=n(61),B=n(2),J={delete:function(e){return{type:g,postId:e}}},M=Object(i.b)(null,J)(c.a.memo((function(e){return Object(B.jsx)("div",{className:"card-container",children:e.posts.map((function(t){return Object(B.jsxs)(D.a,{className:"card",sx:{maxWidth:275},children:[Object(B.jsx)(q.a,{className:"card__title",title:(n=t.title,n.slice(0,1).toUpperCase()+n.slice(1)),fontSize:"12px"}),Object(B.jsx)(L.a,{children:Object(B.jsx)(F.a,{variant:"body1",className:"card__body",children:t.body})}),Object(B.jsx)(I.a,{children:Object(B.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(B.jsx)(z.b,{className:"card__details-link",to:"/details",children:Object(B.jsx)(A.a,{variant:"contained",size:"small",onClick:function(){return e.getPostId(t.id)},children:"Details"})}),Object(B.jsx)(A.a,{size:"small",variant:"contained",color:"error",onClick:function(){return e.delete(t.id)},children:"Delete"})]})})]},t.id);var n}))})}))),U=n(167),W=n(160),V=c.a.memo((function(e){var t=e.filterdPosts,n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1];return Object(B.jsx)(U.a,{component:"form",noValidate:!0,autoComplete:"off",children:Object(B.jsx)(W.a,{id:"outlined-basic",label:"Filter posts",variant:"outlined",value:r,onChange:function(e){e.preventDefault(),s(e.target.value),t(r)},className:"post-filter-form"})})})),G=(n(110),n(82)),H=n.n(G),K={load:C},Q=Object(i.b)(null,K),R=c.a.memo((function(e){var t=e.load,n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],d=l[1],p=function(e){switch(e.target.name){case"title":s(e.target.value);break;case"body":d(e.target.value);break;default:return}},f=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(r.length>0&&u.length>0)){e.next=6;break}return e.next=4,v({title:r,body:u});case 4:e.sent&&(t(),d(""),s(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(U.a,{className:"add-post-form",component:"form",action:"POST",autoComplete:"off",onSubmit:f,children:[Object(B.jsx)(F.a,{component:"h3",children:"Add new post"}),Object(B.jsx)(W.a,{className:"add-post-form__title",name:"title",onChange:p,required:!0,label:"Title",id:"outlined-required","data-testid":"title",value:r}),Object(B.jsx)(W.a,{className:"add-post-form__body",name:"body",onChange:p,required:!0,id:"outlined-required",label:"Body",value:u}),Object(B.jsx)(A.a,{type:"submit",className:"add-post-form__submit-button",variant:"contained",endIcon:Object(B.jsx)(H.a,{}),children:"Send"})]})})),X=Q(R),Y=n(13),Z=(n(113),function(e){var t=e.post,n=function(e){return e?e.slice(0,1).toUpperCase()+e.slice(1):"no text provided"};return Object(B.jsxs)("div",{className:"post-details",children:[Object(B.jsx)("h1",{className:"post-details__title",children:n(null===t||void 0===t?void 0:t.title)}),Object(B.jsx)("h2",{className:"post-details__body",children:n(null===t||void 0===t?void 0:t.body)}),Object(B.jsx)("p",{className:"post-details__date",children:null===t||void 0===t?void 0:t.createdAt})]})}),$={load:C},ee=Object(i.b)(null,$)((function(e){var t=e.load,n=Object(i.c)(_),c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],l=r[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){l(e)}),[]),f=n.filter((function(e){return e.title.toLowerCase().includes(s.toLowerCase())||e.body.toLowerCase().includes(s.toLowerCase())?e:null})),O=Object(a.useCallback)((function(e){b(n.filter((function(t){return t.id===e}))[0])}),[n]);return Object(a.useEffect)((function(){t()}),[t,s]),Object(B.jsxs)(Y.c,{children:[Object(B.jsx)(Y.a,{path:"/",element:Object(B.jsxs)("div",{className:"App",children:[f.length>0?Object(B.jsx)(M,{posts:f,getPostId:O}):Object(B.jsx)("p",{children:"Post Not found"}),Object(B.jsx)(V,{filterdPosts:p}),Object(B.jsx)(X,{})]})}),Object(B.jsx)(Y.a,{path:"/details",element:Object(B.jsx)(Z,{post:j})})]})})),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,170)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(B.jsx)(i.a,{store:P,children:Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(z.a,{children:Object(B.jsx)(ee,{})})})}),document.getElementById("root")),te()},98:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.82c5bc84.chunk.js.map